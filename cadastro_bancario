from random import randint
from os import system

def limpar_tela():
    
    system("cls")

def cadastro_cliente():

    dados_cliente = []

    def gerar_conta():
        # randint -> Return a random integer N such that a <= N <= b. Alias for randrange(a, b+1).
        conta = randint(1000, 9999)
        return conta

    # aqui nessa parte eu adiciono o número da conta na lista com os dados do cliente:
    dados_cliente.append(gerar_conta())

    def conta():
        try: 

            # nome do cliente
            try: 
                print(f"Nome do Cliente: {dados_cliente[1]}")
            except:
                nome_cliente = input("Nome do Cliente: ")

                if nome_cliente.strip() == "": raise Exception("O nome do cliente precisa ser preenchido.")
                elif nome_cliente.strip().isnumeric(): raise Exception("O nome do cliente não pode ser numérico.")

                dados_cliente.append(nome_cliente)

            # telefone
            try:
                print(f"Telefone.......: {dados_cliente[2]}")
            except:
                try:
                    telefone = int(input("Telefone.......: "))
                    dados_cliente.append(telefone)
                except:
                    raise ValueError("O telefone precisa conter apenas números.")

            # e-mail
            try: 
                print(f"E-mail..........: {dados_cliente[3]}")
            except:
                email = input("E-mail..........: ")

                email = email.strip()
                if not "@" in email or not "." in email: raise Exception("Email Inválido!")
                dados_cliente.append(email)

            # saldo inicial
            try:
                print(f"Saldo Inicial...: R$ {dados_cliente[4]}")
            except:
                try:
                    saldo_inical = float(input("Saldo Inicial...: R$ "))
                    if saldo_inical < 1000: raise Exception("O saldo inicial precisa ser maior que 1000.")
                    dados_cliente.append(saldo_inical)
                except:
                    raise ValueError("O saldo inicial precisa ser numérico.") 

            # limite de crédito
            try:
                print(f"Limite de Crédito: R$ {dados_cliente[5]}")
            except:
                try:
                    limite_credito = float(input("Limite de Crédito: R$ "))
                    dados_cliente.append(limite_credito)
                except:
                    raise ValueError("O valor precisa ser numérico e maior ou igual a 0.")

            # senha
            senha = input(f"Senha............: ")

            if len(senha) != 6: raise Exception("A senha precisa ter 6 caracteres.")
            else: 
                confirmacao_senha = input("Repita a Senha...: ")
                if senha != confirmacao_senha: raise ValueError("As senhas precisam ser iguais!")
                dados_cliente.append(senha)

        except ValueError as e:
            limpar_tela()
            input(f"{e} Digite ENTER para prosseguir.")
            conta()

        except Exception as e:
            limpar_tela()
            input(f"{e} Digite ENTER para prosseguir.")
            conta()

    conta()
    
    return dados_cliente

cadastro_cliente()
